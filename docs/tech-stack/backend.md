# バックエンド

## 技術選定

### Rails

バックエンドのメインフレームワーク。
golangやTypeScript系のフレームワークも考えたが、実装コストの低さからRailsに決定。

### アーキテクチャ

Model, Service, Controllerの3レイヤーに分割して実装する。
Rails汎用のMVCに従わない理由は、複数のAPIのロジック実装がControllerに入り、Controllerがファットになりそうであるため。
CAなどの考えを取り入れ、ServiceクラスをAPI毎に作成してロジックを分離することでこれを回避する。

### OpenAPI

スキーマ駆動開発のため、OpenAPIを用いてスキーマの生成等を行う。
ライブラリはデファクトスタンダードである Rswag × Rspec で行う。

### キャッシュ戦略

タイムラインが何度も表示されるため、フィード周りはキャッシュとして持ちクエリを何度も送らなようにしてパフォーマンスの向上を図る。
キャッシュはRedisを用いる。Memcachedもあるが、DBのレコードをキャッシュとして持ちたいためハッシュなどを扱えるRedisを用いる。
また非同期Jobの情報もRedisに格納出来るため、これを用いる。

### 非同期Job


